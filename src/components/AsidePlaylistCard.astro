---
import type {Playlist} from "@/lib/api";
import {Pinned, Volume} from "@/icons/AsideIcons";

interface Props
{
    playlist: Playlist;
    isPlaying: boolean;
    pinned?: boolean;
};

const {playlist, isPlaying, pinned} = Astro.props;
const {id, cover, title, artists} = playlist;
const joinedArtists = artists.join(", ");
---


<li class="px-2">
    <a href={`/playlist/${id}`} class="h-16 w-full p-2 gap-3 flex items-center rounded-[8px] hover:bg-[#1a1a1a] transition duration-100">
        <picture class="size-12 flex-none">
            <img src={cover} alt={`${title} cover`} class="size-full rounded-[4px]"/>
        </picture>
        
        <div class="w-full h-full flex flex-row justify-between">
            <div class="flex flex-col items-start">
                <h2 class:list={["line-clamp-1", isPlaying && "text-[#1ed760]"]}>{title}</h2>
                
                <div class="flex items-center gap-2">
                    {
                        pinned && <Pinned styles="h-3 w-3 fill-[#1DB954]"/>
                    }
                    
                    <span class="text-[#b3b3b3] text-sm line-clamp-1">{joinedArtists}</span>
                </div>
            </div>
            
            <div class="h-full w-8 p-2 flex items-center justify-center">
                {
                    isPlaying && <Volume styles="h-4 w-4 fill-[#1DB954]"/>
                }
            </div>
        </div>
    </a>
</li>